=== RUN   TestSanitizePackageName
--- PASS: TestSanitizePackageName (0.00s)
=== RUN   TestExportedIdentifier
--- PASS: TestExportedIdentifier (0.00s)
=== RUN   TestValidateScaffoldName
--- PASS: TestValidateScaffoldName (0.00s)
=== RUN   TestCreateNewApp
Created demo/go.mod
Created demo/cmd/api/main.go
Created demo/internal/modules/app/module.go

Success! Created app 'demo'
Run:
  cd demo
  go run cmd/api/main.go
--- PASS: TestCreateNewApp (0.23s)
=== RUN   TestCreateNewAppInvalidName
--- PASS: TestCreateNewAppInvalidName (0.00s)
=== RUN   TestCreateNewAppDirectoryNotEmpty
--- PASS: TestCreateNewAppDirectoryNotEmpty (0.00s)
=== RUN   TestCreateNewAppExistingEmptyDirectory
Created demo/go.mod
Created demo/cmd/api/main.go
Created demo/internal/modules/app/module.go

Success! Created app 'demo'
Run:
  cd demo
  go run cmd/api/main.go
--- PASS: TestCreateNewAppExistingEmptyDirectory (0.21s)
=== RUN   TestCreateNewAppGoModTidyFailure
Created demo/go.mod
Created demo/cmd/api/main.go
Created demo/internal/modules/app/module.go
--- PASS: TestCreateNewAppGoModTidyFailure (0.01s)
=== RUN   TestCreateNewAppPathIsFile
--- PASS: TestCreateNewAppPathIsFile (0.00s)
=== RUN   TestCreateNewAppRunE
Created runetest/go.mod
Created runetest/cmd/api/main.go
Created runetest/internal/modules/app/module.go

Success! Created app 'runetest'
Run:
  cd runetest
  go run cmd/api/main.go
--- PASS: TestCreateNewAppRunE (0.21s)
=== RUN   TestCreateNewController
✓ Created: internal/modules/user-service/auth_controller.go
✗ Registration failed: controller find failed for "AuthController" in internal/modules/user-service/module.go: Controllers field not found in Definition
  Module: internal/modules/user-service/module.go
  To complete manually, add to Definition().Controllers:
    {Name: "AuthController", Build: NewAuthController}
--- PASS: TestCreateNewController (0.01s)
=== RUN   TestCreateNewControllerFromCurrentModuleDir
✓ Created: /private/var/folders/97/xr55_73j1n57v29mjdknp3xr0000gp/T/TestCreateNewControllerFromCurrentModuleDir1534514695/001/internal/modules/users/cache_controller.go
✗ Registration failed: controller find failed for "CacheController" in /private/var/folders/97/xr55_73j1n57v29mjdknp3xr0000gp/T/TestCreateNewControllerFromCurrentModuleDir1534514695/001/internal/modules/users/module.go: Controllers field not found in Definition
  Module: /private/var/folders/97/xr55_73j1n57v29mjdknp3xr0000gp/T/TestCreateNewControllerFromCurrentModuleDir1534514695/001/internal/modules/users/module.go
  To complete manually, add to Definition().Controllers:
    {Name: "CacheController", Build: NewCacheController}
--- PASS: TestCreateNewControllerFromCurrentModuleDir (0.01s)
=== RUN   TestCreateNewControllerInvalidName
--- PASS: TestCreateNewControllerInvalidName (0.00s)
=== RUN   TestCreateNewControllerInvalidModuleName
--- PASS: TestCreateNewControllerInvalidModuleName (0.00s)
=== RUN   TestCreateNewControllerMissingModuleFile
--- PASS: TestCreateNewControllerMissingModuleFile (0.00s)
=== RUN   TestCreateNewControllerAlreadyExists
--- PASS: TestCreateNewControllerAlreadyExists (0.01s)
=== RUN   TestCreateNewControllerGetwdFailure
--- PASS: TestCreateNewControllerGetwdFailure (0.00s)
=== RUN   TestCreateNewControllerRunE
✓ Created: internal/modules/users/billing_controller.go
✗ Registration failed: controller find failed for "BillingController" in internal/modules/users/module.go: Controllers field not found in Definition
  Module: internal/modules/users/module.go
  To complete manually, add to Definition().Controllers:
    {Name: "BillingController", Build: NewBillingController}
--- PASS: TestCreateNewControllerRunE (0.00s)
=== RUN   TestCreateNewControllerCreateFileFailure
--- PASS: TestCreateNewControllerCreateFileFailure (0.00s)
=== RUN   TestCreateNewModule
Created internal/modules/user-service/module.go
--- PASS: TestCreateNewModule (0.00s)
=== RUN   TestCreateNewModuleInvalidName
--- PASS: TestCreateNewModuleInvalidName (0.00s)
=== RUN   TestCreateNewModuleAlreadyExists
--- PASS: TestCreateNewModuleAlreadyExists (0.00s)
=== RUN   TestCreateNewModuleMkdirFail
--- PASS: TestCreateNewModuleMkdirFail (0.00s)
=== RUN   TestCreateNewModuleRunE
Created internal/modules/billing/module.go
--- PASS: TestCreateNewModuleRunE (0.00s)
=== RUN   TestCreateNewProvider
--- PASS: TestCreateNewProvider (0.00s)
=== RUN   TestCreateNewProviderFromCurrentModuleDir
--- PASS: TestCreateNewProviderFromCurrentModuleDir (0.00s)
=== RUN   TestCreateNewProviderInvalidName
--- PASS: TestCreateNewProviderInvalidName (0.00s)
=== RUN   TestCreateNewProviderInvalidModuleName
--- PASS: TestCreateNewProviderInvalidModuleName (0.00s)
=== RUN   TestCreateNewProviderMissingModuleFile
--- PASS: TestCreateNewProviderMissingModuleFile (0.00s)
=== RUN   TestCreateNewProviderAlreadyExists
--- PASS: TestCreateNewProviderAlreadyExists (0.00s)
=== RUN   TestCreateNewProviderGetwdFailure
--- PASS: TestCreateNewProviderGetwdFailure (0.00s)
=== RUN   TestCreateNewProviderRunE
✓ Created: internal/modules/users/billing.go
✗ Registration failed: provider find failed for "users.billing" in internal/modules/users/module.go: Providers field not found in Definition
  Module: internal/modules/users/module.go
  To complete manually, add to Definition().Providers:
    {Token: "users.billing", Build: NewBillingService}
--- PASS: TestCreateNewProviderRunE (0.00s)
=== RUN   TestCreateNewProviderCreateFileFailure
--- PASS: TestCreateNewProviderCreateFileFailure (0.00s)
=== RUN   TestExecuteHelp
modkit is a CLI tool for scaffolding and managing applications
built with the modkit framework. It automates repetitive tasks like creating
modules, providers, and controllers.

Usage:
  modkit [command]

Available Commands:
  completion  Generate the autocompletion script for the specified shell
  help        Help about any command
  new         Create a new app, module, provider, or controller

Flags:
  -h, --help   help for modkit

Use "modkit [command] --help" for more information about a command.
--- PASS: TestExecuteHelp (0.00s)
PASS
ok  	github.com/go-modkit/modkit/internal/cli/cmd	(cached)
